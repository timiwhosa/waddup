<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JETARchive | Uploads</title>
    <link rel="stylesheet" href="/archive/css/archive.css">
    <link rel="stylesheet" href="/general/css/general-style.css">
    <script src="/general/js/jquery.min.js"></script>
</head>
<body>
    <!-- menu -->
     <div class="menu">
        <ul id="menu"></ul>
    </div>
    <!-- nav -->
    <nav id="nav"></nav>
    <ul id= "searchoption"></ul>
    <div id="generalinfo"></div>
    <div class="container">
        <div class="row" >
            <h3 style="text-align: center; padding: 10px 0;">JETARchive UPLOADS</h3>
            <p>It's time we start helping each other to succeed.</p>
            <p>Sometimes, you run out of storage space and you need to delete some files to create more space. why not upload it here.</p>
            <p>Also, we have seen cases of peoples files getting corrupted and all academic material get lost. This is our solution!!  </p>
            <p style="color:#03a9f4;">Whatever material or recommendation you have can go a long way in helping you and others </p>
            <h4>Thanks for Your contribution to help others as well as your self.</h4>
        </div>
        <p class="pt"><i>In other to conserver space and store more files, we set the highest upload file size to 30mb </i></p>
        <div class="row">
            <div class="course-upload-div">
            <h3>UPLOAD</h3>
            <p>Here, you can upload materials related to any  course at all</p>
            <p>To upload a file greater than 30mb, Please send it to us via our <a href="https://wa.me/2348140766866?text=Hi%20JETbooks%20I%20would%20like%20to%20help%20others%20by%20uploading%20the%20following%20materials%20to%20JETARchive.%20My%20name%20is%20___">whatsapp platform here</a>, with your nickname</p>
            <div class="up-cat">
                <h3 style="text-decoration: underline; margin-top: 20px;">STAYLITE section</h3>
                <p>Please select what school this material belongs to:</p>
                <div class="">
                    <select name="schools" id="select-school2">
                        <option value="none" id="myschool">Select school</option>
                        <option value="futa">FUTA</option>
                        <option value="oau">OAU</option>
                        <option value="unilag">UNILAG</option>
                    </select>
                </div>
                <div class="imp">
                    <div class="" onclick="showcat(1)"><input type="radio" name="cat" id="" checked>Past question</div>
                    <div class="" onclick="showcat(2)"><input type="radio" name="cat" id="">Handout</div>
                    <div class="" onclick="showcat(3)"><input type="radio" name="cat" id="">Recommendation</div>
                    <div class="" onclick="showcat(4)"><input type="radio" name="cat" id="">Others</div>
                </div>
                <style>
                    .row{
                        padding: 20px;
                        margin-top: 0;
                    }
                    .row p{
                        padding: 10px 0;
                    }
                    .cat1 > .up{
                        display: flex;
                    }
                    .pt{
                        margin: 10px auto; 
                        text-align: center; 
                        font-size: 16px;
                        border-left: 2px solid #FF9800;
                        width: fit-content; 
                        padding: 0 5px;
                    }
                    #select-school2{
                        width: 220px;
                        height: 40px;
                        font-size: 20px;
                        outline: none;
                        border: 1px solid black;
                        background-color: white;
                        color: black;
                        margin: 20px 0;
                        border-radius: 5px;
                        text-transform: uppercase;
                    }
                    @media screen and (max-width: 480px) {
                        .course-upload-div{
                            margin: 0;
                        }
                        .pt{
                            margin: 10px 2vw;
                            padding: 0;
                        }
                    }
                </style>
                <div class="cat1" id="cat1">
                    <h4>Past Question</h4>
                    <div class="cat1-top">
                        <div class="">
                            <p>Course code:</p>
                            <input type="text"  id="pq-course" maxlength="7" placeholder="eg: mee101">
                        </div>
                        <div class="">
                            <p>Level:</p>
                            <input type="number" id="pq-level" maxlength="3" placeholder="number only eg:100">
                        </div>
                        <div class="">
                            <p>Faculty: <span class="small">(abbreviation only)</span></p>
                            <input type="text" id="pq-faculty" maxlength="4" placeholder="eg: seet">
                        </div>
                    <!-- </div> -->
                    <!-- <div class="type"> -->
                        <div class="">
                             <p>Type:</p>
                        <p><span><input type="radio" name="pq-type" id="pqexaminput" value="exam">Exam</span> <span><input type="radio" name="pq-type" id="pqtestinp" value="test">Test</span></p>
                        </div>

                        <div class="">
                            <p>Description:</p>
                            <input type="text" id="pq-desc" maxlength="15" placeholder="Short description pls">
                        </div>

                        <div class=""><input type="file" name="" id="pq-file"></div>

                    <!-- </div> -->
                    <!-- <div class=""> -->
                        <div class="">
                            <p>Year of Past Question</p>
                            <input type="text" id="pq-year" placeholder="eg: 2018/2019">
                        </div>

                        <div class="">
                            <p>Nickname:</p>
                            <input type="text" id="pq-nickname" maxlength="14" placeholder="For recognition">
                        </div>

                        
                    </div>

                    <div class="up"><button onclick="uploadpq()">Upload</button></div>
                </div>

                <div class="cat1" id="cat2">
                    <h4>Handout</h4>
                    <div class="cat1-top">
                        <div class="">
                            <p>Course code:</p>
                            <input type="text"  id="hd-course" maxlength="7" placeholder="eg: mee101">
                        </div>
                        <div class="">
                            <p>Level:</p>
                            <input type="number" id="hd-level" maxlength="3" placeholder="number only eg:100">
                        </div>
                        <div class="">
                            <p>Faculty: <span class="small">(abbreviation only)</span></p>
                            <input type="text" id="hd-faculty" maxlength="4" placeholder="eg: seet">
                        </div>
                    <!-- </div> -->
                    <!-- <div class=""> -->
                        <div class="">
                            <p>Description:</p>
                            <input type="text" id="hd-desc" maxlength="15" placeholder="Short description pls">
                        </div>

                        <div class="">
                            <p>Nickname:</p>
                            <input type="text" id="hd-nickname" maxlength="14" placeholder="For recognition">
                        </div>

                        <div class=""><input type="file" name="" id="hd-file"></div>
                    </div>

                    <div class="up"><button onclick="uploadhd()">Upload</button></div>
                </div>

                <div class="cat1" id="cat3">
                    <h4>Recommendation</h4>
                    <div class="cat1-top">
                        <div class="">
                            <p>Course code:</p>
                            <input type="text" id="rec-course" maxlength="7" placeholder="eg: mee101">
                        </div>
                        <div class="">
                            <p>Level:</p>
                            <input type="number" id="rec-level" maxlength="3" placeholder="number only eg:100">
                        </div>
                        <div class="">
                            <p>Faculty: <span class="small">(abbreviation only)</span></p>
                            <input type="text" id="rec-faculty" maxlength="4" placeholder="eg: seet">
                        </div>
                    <!-- </div> -->
                    <!-- <div class="type"> -->
                        <div class="">
                             <p>Type:</p>
                        <p><span><input type="radio" name="rec-type" value="textbook" id="rectxtbinput">Textbook</span> <span><input type="radio" name="rec-type" value="video" id="recvidinp">Video</span> <span><input type="radio" name="rec-type" value="link" id="reclinkinp">Link</span></p>
                        
                        </div>

                        <div class="">
                            <p>Nickname:</p>
                            <input type="text" id="rec-nickname" maxlength="14" placeholder="For recognition">
                        </div>
                        <div class="">
                            <p>txtbk/video/link</p>
                            <input type="text" placeholder="enter data here" id="rec" maxlength="300">
                        </div>

                    </div>

                    <div class="up"><button onclick="uploadrec()">Upload</button></div>
                </div>
                <div class="cat11" id="cat4">
                    <div class="contc qa">
                        <h3>CONTACT US</h3>
                        <h5>Got a message or suggestion? Lets hear from you</h5>
                        <p>Your Name:</p>
                        <input type="text" id="contact-name" placeholder="Name/Nickname" maxlength="20">
                        <p>Whatsapp Number:</p>
                        <input type="number" id="contact-number" placeholder="For further contact" maxlength="15">
                        <p>Message</p>
                        <textarea name="contact-message" id="contact-message" cols="30" rows="10" placeholder="Pls write your message here" maxlength="500"></textarea>

                        <div class="up"><button onclick="contactus()">Upload</button></div>
                    </div>
                </div>
            </div>
            <p style="padding: 40px 0;">Remember that to upload a file greater than 30mb or multiple files, You can kindly send it to us via our <a href="https://wa.me/2348140766866?text=Hi%20JETbooks%20I%20would%20like%20to%20help%20others%20by%20uploading%20the%20following%20materials%20to%20JETARchive.%20My%20name%20is%20___">whatsapp platform here</a>, with your nickname <br> OR <br> Chat us up on our whatsapp platform or through the <span style="color: #FF9800; cursor: pointer;" onclick="showcat(4)">Contact section</span> and we will come and collect it directly</p>

            </div>
        </div>
       <div class="cover" id="cover"></div>
        <div class="upload-notice" id="upload-notice">
            Uploading 
            <span class="dot" id="dot1">.</span> 
            <span class="dot" id="dot2">.</span>
            <span class="dot" id="dot3">.</span>
            <span class="dot" id="dot4">.</span>
            <p class="up-jet">JETBOOKS</p>
        </div>

    </div>
    <div class="comment" id="comment"></div>   
    <footer></footer>

    <script>
        String.prototype.escape = function () {
            var tagtoreplace = {
                "&": "&amp;",
                "<": "&lt",
                ">": "&gt",
                "=": "",
                "script": " ",
                "Script": " ",
                '"': " ",
                "`": " "
            };
            return this.replace(/[&<>`=]/g, function (tag) {
                return tagtoreplace[tag] || tag;
            });
        }


        function showcat(index){
            for(i=1; i<=4; i++){
                document.getElementById(`cat${i}`).style.display = "none"
            }
            document.getElementById(`cat${index}`).style.display = "block"
        }
    

         function uploadpq(){
            // var url2 = "/archive/upload/data?type=pq";
            var selectedschool = document.getElementById("select-school2").value;
            var course = document.getElementById("pq-course" ).value.escape();
            var typediv = document.getElementsByName("pq-type");
            var type="";
            for(i=0; i<2; i++){
                if(typediv[i].checked){
                    type= typediv[i].value;
                    // console.log(type)
                }
            }
            var description = document.getElementById("pq-desc").value.escape();
            var level = document.getElementById("pq-level" ).value.escape();
            var faculty = document.getElementById("pq-faculty").value.escape();
            var name = document.getElementById("pq-nickname").value.escape();
            var year = document.getElementById("pq-year").value.escape();
            var upload = document.getElementById("pq-file").files[0];
            var date = moment().format("Do MMMM,YYYY");
            var time = moment().format("h:mm a");
            var cover = document.getElementById("cover");
            var uploadnotice = document.getElementById("upload-notice");
            
            const formdata = new FormData();
            formdata.append("upload", upload);
            // console.log(formdata);
            if(course.trim()!="" && type.trim()!="" && description.trim()!="" && level.trim()!="" && faculty.trim()!="" && name.trim()!="" && upload !="" && upload.size <=30000000  && date.trim()!="" && time.trim()!="" && course[3]== level[0]){
                
                cover.style.display = "block";
                uploadnotice.style.display = "block";
                var urll = `/archive/upload?course=${course}&school=${selectedschool}&section=staylite&type=${type}&description=${description}&level=${level}&faculty=${faculty}&name=${name}&year=${year}&date=${date}&time=${time}`;
                fetch(urll, {
                    method: "POST",
                    body: formdata
                })
                .then((res)=>{
                    cover.style.display = "none";
                    uploadnotice.style.display = "none";
                    if(res.ok){
                        return res.json();
                    }
                    else {
                        return res.json();
                    }
                }).then((json)=>{
                    alert(json.message);
                }).catch(console.error);
            }
            else{
                alert("pls fill form correctly and make sure file size is as specified. Also ensure that  course code matches expected level")
            }
        }


        function uploadhd(){
            // var url2 = "/archive/upload/data?type=pq";
            var course = document.getElementById("hd-course").value.escape();
            var type="handout";
            var description = document.getElementById("hd-desc").value.escape();
            var level = document.getElementById("hd-level").value.escape();
            var faculty = document.getElementById("hd-faculty").value.escape();
            var name = document.getElementById("hd-nickname").value.escape();
            var upload = document.getElementById("hd-file").files[0];
            var date = moment().format("Do MMMM,YYYY");
            var time = moment().format("h:mm a");
            var selectedschool = document.getElementById("select-school2").value;

                
            const formdata = new FormData();
            formdata.append("upload", upload);
            // console.log(formdata);
            if(course.trim()!="" && type.trim()!="" && description.trim()!="" && level.trim()!="" && faculty.trim()!="" && name.trim()!="" && upload.size <=30000000  && date.trim()!="" && time.trim()!="" &&course[3]== level[0] ){
                
                cover.style.display = "block";
                uploadnotice.style.display = "block";
                var urll = `/archive/upload?course=${course.toLowerCase()}&school=${selectedschool}&section=staylite&type=${type}&description=${description}&level=${level}&faculty=${faculty.toLowerCase()}&name=${name}&date=${date}&time=${time}`;
                fetch(urll, {
                    method: "POST",
                    body: formdata
                })
                .then((res)=>{
                    
                cover.style.display = "none";
                uploadnotice.style.display = "none";
                    if(res.ok){
                        alert("file successfully uploaded")
                    }
                    else{
                    alert("sorry, file was not uploaded") 
                    }
                }).catch(console.error);
            }
            else{
                alert("pls fill form correctly and make sure file size is as specified. Also ensure that  course code matches expected level")
            }
        }
        // .then(fetch(url2, {
        //         method: "POST",
        //         headers: { "Content-Type": "application/json" },
        //         body: {
        //                 course,
        //                 type,
        //                 description,
        //                 level,
        //                 faculty,
        //                 name,
        //                 year
        //                 
        //             }
        //     }))
        function uploadrec(){
            var course = document.getElementById("rec-course").value.escape();
            var typediv = document.getElementsByName("rec-type");
            var type="";
            for(i=0; i<3; i++){
                if(typediv[i].checked){
                    type= typediv[i].value.escape();
                    // console.log(type)
                }
            }
            var selectedschool = document.getElementById("select-school2").value;
            var recommendation = document.getElementById("rec").value.escape();
            var level = document.getElementById("rec-level").value.escape();
            var faculty = document.getElementById("rec-faculty").value.escape();
            var name = document.getElementById("rec-nickname").value.escape();
            var description="recommendation";
            var year = moment().format("YYYY");
            var date = moment().format("Do MMMM,YYYY");
            var time = moment().format("h:mm a");
            if(course.trim()!="" && type.trim()!="" && description.trim()!="" && recommendation.trim()!=""&& level.trim()!="" && faculty.trim()!="" && name.trim()!=""  && date.trim()!="" && time.trim()!="" &&course[3]== level[0]){
                
                cover.style.display = "block";
                uploadnotice.style.display = "block";
                var urll = `/archive/upload?to=rec&course=${course}&school=${selectedschool}&section=staylite&type=${type}&description=${description}&recommendation=${recommendation}&level=${level}&faculty=${faculty}&name=${name}&date=${date}&time=${time}`;
                fetch(urll, {
                    method: "POST",
                    body: "recommendation"
                })
                .then((res)=>{
                    
                    cover.style.display = "none";
                    uploadnotice.style.display = "none";
                    if(res.ok){
                        alert("file successfully uploaded")
                    }
                }).catch(console.error);
            }
            else{
                alert("pls fill form correctly, thanks!!")
            }
        }

        function  contactus(){
            var name = document.getElementById("contact-name").value.escape();
            var number = document.getElementById("contact-number").value.escape();
            var message = document.getElementById("contact-message").value.escape();

           if(name.trim()!= "" && number.trim()!= "" && message.trim() !=""){
                var urr = "/contact_suggest"
                var opt = {
                    method: "POST",
                    headers: {"content-type": "application/json"},
                    body: JSON.stringify({
                        name: name,
                        number: number,
                        message: message,
                        time: moment().format("MMMM Do, YYYY h:mm a")
                    })
                }

               fetch(urr, opt).then((res)=>{
                   if (res.ok) {
                        name = document.getElementById("contact-name").value = "";
                        number = document.getElementById("contact-number").value = "";
                        message = document.getElementById("contact-message").value = "";
                        return res.json();
                    }
                    else {
                        return res.json();
                    }
               }).then((json)=>{
                    alert(json.message);
               });
               

           }
           else{
               alert("We really need to hear from you. Pls fill form correctly");
           }

        }
    </script>

    <script src="/general/js/nav.js"></script>
    <script src="/general/js/moment.js"></script>
    <script src="/general/js/index.js"></script>
    <script src="/general/js/menu.js"></script>
    <script src="/general/js/search.js"></script>
    <!-- <script src="/archive/js/archive.js"></script> -->
    <script src="/general/js/footer.js"></script>
</body>
</html>